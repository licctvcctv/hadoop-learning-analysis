# ============================================
# Spark默认配置
# 基于Hadoop的大学生线上课程学习行为数据存储与分析系统
# ============================================

# Spark Master配置 - 使用YARN模式
spark.master                     yarn
spark.submit.deployMode          client

# 应用配置
spark.app.name                   LearningBehaviorAnalysis
spark.driver.memory              1g
spark.executor.memory            1g
spark.executor.cores             1
spark.executor.instances         2

# Hadoop配置
spark.hadoop.fs.defaultFS        hdfs://namenode:9000

# YARN配置
spark.yarn.am.memory             512m
spark.yarn.submit.waitAppCompletion true

# Hive配置
spark.sql.warehouse.dir          hdfs://namenode:9000/user/hive/warehouse
spark.sql.catalogImplementation  hive
spark.hadoop.hive.metastore.uris thrift://hive-server:9083

# 序列化配置
spark.serializer                 org.apache.spark.serializer.KryoSerializer

# 日志配置
spark.eventLog.enabled           true
spark.eventLog.dir               hdfs://namenode:9000/spark-logs
spark.history.fs.logDirectory    hdfs://namenode:9000/spark-logs

# 动态资源分配
spark.dynamicAllocation.enabled  false

# UI配置
spark.ui.port                    4040
spark.ui.reverseProxy            true

# SQL配置
spark.sql.adaptive.enabled       true
spark.sql.adaptive.coalescePartitions.enabled true
